# YouTube Cookies Setup Guide

YouTube requires authentication cookies to bypass bot detection. This guide explains how to export cookies and add them to your GitHub repository.

## Why Cookies Are Needed

YouTube has implemented strict bot detection that blocks automated downloads. Using cookies from a logged-in browser session helps bypass this detection.

## How to Export Cookies

### Method 1: Browser Extension (Recommended)

1. **Install a cookie export extension:**
   - Chrome/Edge: [Get cookies.txt LOCALLY](https://chrome.google.com/webstore/detail/get-cookiestxt-locally/cclelndahbckbenkjhflpdbgdldlbecc)
   - Firefox: [cookies.txt](https://addons.mozilla.org/en-US/firefox/addon/cookies-txt/)

2. **Export cookies:**
   - Visit https://www.youtube.com and make sure you're logged in
   - Click the extension icon
   - Select "Export" or "Copy cookies"
   - Save the cookies in Netscape format (cookies.txt)

### Method 2: Manual Export (Advanced)

1. **Using browser developer tools:**
   - Open YouTube in your browser and log in
   - Open Developer Tools (F12)
   - Go to Application/Storage → Cookies → https://www.youtube.com
   - Copy the cookie values manually

2. **Format as Netscape cookies.txt:**
   ```
   # Netscape HTTP Cookie File
   .youtube.com	TRUE	/	FALSE	1735689600	VISITOR_INFO1_LIVE	your_cookie_value
   .youtube.com	TRUE	/	FALSE	1735689600	PREF	your_cookie_value
   # Add more cookies...
   ```

### Method 3: Using yt-dlp (Command Line)

If you have yt-dlp installed locally:

```bash
# Export cookies from Chrome
yt-dlp --cookies-from-browser chrome --print-to-file cookies.txt ""

# Or from Firefox
yt-dlp --cookies-from-browser firefox --print-to-file cookies.txt ""
```

## Adding Cookies to GitHub

1. **Go to your repository settings:**
   - Navigate to: `https://github.com/YOUR_USERNAME/youtube-downloader/settings/secrets/actions`

2. **Create a new secret:**
   - Click "New repository secret"
   - Name: `YOUTUBE_COOKIES`
   - Value: Paste the entire contents of your cookies.txt file
   - Click "Add secret"

3. **Verify:**
   - The secret should now appear in your secrets list
   - The workflow will automatically use it when downloading videos

## Cookie Format

The cookies file should be in Netscape format:
```
# Netscape HTTP Cookie File
# This file was generated by...
.domain.com	TRUE	/path	FALSE	timestamp	name	value
```

Each line (except comments starting with `#`) should have 7 tab-separated fields:
1. Domain
2. Flag (TRUE/FALSE)
3. Path
4. Secure flag (TRUE/FALSE)
5. Expiration timestamp
6. Name
7. Value

## Important Notes

- **Cookies expire**: YouTube cookies typically expire after a few weeks or months. You'll need to re-export and update the secret when downloads start failing again.

- **Privacy**: The cookies contain your session information. Only use this on repositories you trust, or consider using a dedicated YouTube account.

- **Security**: GitHub secrets are encrypted, but be aware that anyone with access to your repository secrets can see the cookie values.

- **Testing**: After adding cookies, test the download workflow to ensure it works. Check the Actions tab for any errors.

## Troubleshooting

### Cookies not working
- Verify the cookies file format is correct (Netscape format)
- Make sure you're logged into YouTube when exporting
- Check that the secret name is exactly `YOUTUBE_COOKIES` (case-sensitive)
- Try re-exporting cookies if they've expired

### Still getting bot detection errors
- Cookies may have expired - export new ones
- YouTube may have changed their detection - try updating yt-dlp
- Some videos may have additional restrictions

## Updating Cookies

When cookies expire:

1. Export new cookies using one of the methods above
2. Go to repository → Settings → Secrets → Actions
3. Find `YOUTUBE_COOKIES` and click "Update"
4. Paste the new cookies content
5. Save

The next workflow run will use the updated cookies.

